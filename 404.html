<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Redirecting...</title>
    <script>
      // Get the current path (pathname)
      var path = window.location.pathname;

      // For GitHub Pages: If your repository is username.github.io/repo-name,
      // you may need to set the base path like this:
      // var basePath = '/repo-name';
      // var redirectUrl = basePath + '?p=' + path;

      // Simple version: Redirect to the root (/) with the current path as a parameter
      // This allows your SPA to handle the route correctly
      var redirectUrl = '/' + '?p=' + path;

      // Set the redirection
      window.location.replace(redirectUrl);
    </script>
  </head>
  <body>
    <h1>404 - Page Not Found</h1>
    <p>If you are not automatically redirected, click <a id="redirect-link" href="/">here</a>.</p>

    <script>
      document.getElementById('redirect-link').href = redirectUrl;
    </script>
    <hr />
    <small>
      This file is for GitHub Pages. It helps single-page applications (SPA) handle 404 errors by
      redirecting to the root with the original path as a parameter.
    </small>
  </body>
</html>
